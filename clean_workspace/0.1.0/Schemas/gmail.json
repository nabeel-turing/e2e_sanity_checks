[
  {
    "name": "batch_delete_messages",
    "description": "Deletes many messages simultaneously.\n\nPermanently deletes all messages identified by the IDs in the provided list.\nAlso cleans up any attachments that are no longer referenced after the\nmessage deletions.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "ids": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of message IDs to delete. Defaults to None."
        }
      }
    }
  },
  {
    "name": "batch_modify_message_labels",
    "description": "Modifies the labels on multiple messages simultaneously.\n\nApplies the specified label modifications (add/remove) to all messages\nidentified by the IDs in the provided list.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "ids": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of message IDs to modify. Defaults to None or an empty list."
        },
        "addLabelIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of label IDs to add. Label IDs are handled\ncase-insensitively and stored in their uppercase form. Defaults to None."
        },
        "removeLabelIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of label IDs to remove. Label IDs are handled\ncase-insensitively and stored in their uppercase form. Defaults to None."
        }
      }
    }
  },
  {
    "name": "check_user_exists",
    "description": "Checks if a user exists in the database.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The ID of the user to check."
        }
      },
      "required": [
        "userId"
      ]
    }
  },
  {
    "name": "create_draft",
    "description": "Creates a new draft message.\n\nCreates a new draft with the DRAFT label. The draft message content is taken from the `draft`\nargument. If no draft content is provided, an empty draft is created.\n\nAttachment size limits are enforced: individual attachments cannot exceed 25MB,\nand the total message size (including all attachments) cannot exceed 100MB.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "draft": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "description": "The draft ID. Auto-generated if not provided."
            },
            "message": {
              "type": "object",
              "properties": {
                "threadId": {
                  "type": "string",
                  "description": "The ID of the thread this message belongs to."
                },
                "raw": {
                  "type": "string",
                  "description": "The entire message represented as a base64url-encoded string\n              (RFC 4648 Section 5). The raw string must be RFC 2822 compliant and may include attachments\n              (e.g., as multipart MIME). Individual attachments are limited to 25MB each, with\n              a total message size limit of 100MB. Optional; if not provided, the message will be \n              constructed from 'sender', 'recipient', 'subject', 'body', etc."
                },
                "labelIds": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "List of label IDs applied to this message."
                },
                "snippet": {
                  "type": "string",
                  "description": "A short part of the message text."
                },
                "historyId": {
                  "type": "string",
                  "description": "The ID of the last history record that modified this message."
                },
                "internalDate": {
                  "type": "string",
                  "description": "The internal message creation timestamp (epoch ms)."
                },
                "sizeEstimate": {
                  "type": "integer",
                  "description": "Estimated size in bytes of the message."
                },
                "sender": {
                  "type": "string",
                  "description": "The email address of the sender."
                },
                "recipient": {
                  "type": "string",
                  "description": "The email address of the recipient."
                },
                "subject": {
                  "type": "string",
                  "description": "The message subject."
                },
                "body": {
                  "type": "string",
                  "description": "The message body text."
                },
                "isRead": {
                  "type": "boolean",
                  "description": "Whether the message has been read."
                },
                "date": {
                  "type": "string",
                  "description": "The date this message was created."
                },
                "payload": {
                  "type": "object",
                  "properties": {
                    "mimeType": {
                      "type": "string",
                      "description": "The MIME type of the message."
                    },
                    "parts": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "mimeType": {
                            "type": "string",
                            "description": "The MIME type of the part."
                          },
                          "filename": {
                            "type": "string",
                            "description": "The filename for attachment parts."
                          },
                          "body": {
                            "type": "object",
                            "properties": {
                              "attachmentId": {
                                "type": "string",
                                "description": "The attachment ID reference."
                              },
                              "size": {
                                "type": "integer",
                                "description": "The size of the attachment in bytes (max 25MB per attachment)."
                              }
                            },
                            "description": "The body content with keys:",
                            "required": [
                              "attachmentId",
                              "size"
                            ]
                          }
                        },
                        "required": [
                          "body",
                          "mimeType"
                        ]
                      },
                      "description": "List of message parts for attachments:"
                    }
                  },
                  "description": "The parsed email structure with keys:",
                  "required": [
                    "mimeType",
                    "parts"
                  ]
                }
              },
              "description": "The message object with keys:"
            }
          },
          "description": "An optional dictionary containing the draft message details with keys:",
          "required": [
            "message"
          ]
        }
      }
    }
  },
  {
    "name": "create_label",
    "description": "Creates a new label.\n\nGenerates a unique ID for the new label and adds it to the user's list\nof labels in the database. The label properties are taken from the `label`\nargument. If no properties are provided, default values are used.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "label": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "description": "The display name of the label in uppercase."
            },
            "messageListVisibility": {
              "type": "string",
              "description": "The visibility of messages with this label in the message list.\n    Must be one of: 'show', 'hide'. Defaults to 'show'."
            },
            "labelListVisibility": {
              "type": "string",
              "description": "The visibility of the label in the label list.\n    Must be one of: 'labelShow', 'labelShowIfUnread', 'labelHide'. Defaults to 'labelShow'."
            },
            "type": {
              "type": "string",
              "description": "The owner type for the label. Must be 'user' for custom labels.\n    Defaults to 'user'. (Note: 'system' is also a valid type internally)."
            },
            "color": {
              "type": "object",
              "properties": {
                "textColor": {
                  "type": "string",
                  "description": "The text color of the label, represented as hex string."
                },
                "backgroundColor": {
                  "type": "string",
                  "description": "The background color represented as hex string #RRGGBB."
                }
              },
              "description": "The color to assign to the label with keys:",
              "required": [
                "backgroundColor",
                "textColor"
              ]
            }
          },
          "description": "An optional dictionary containing the properties for the new label with keys:",
          "required": [
            "color",
            "labelListVisibility",
            "messageListVisibility",
            "name",
            "type"
          ]
        }
      }
    }
  },
  {
    "name": "create_send_as_alias",
    "description": "Creates a new 'Send as' alias configuration.\n\nAdds a custom 'from' address (alias) to the user's account. The alias\nemail address is used as the key. The verification status is\ntypically set based on domain policies or user actions, but may default\nto 'accepted' in some implementations.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "send_as": {
          "type": "object",
          "properties": {
            "sendAsEmail": {
              "type": "string",
              "description": "The email address for the alias."
            },
            "displayName": {
              "type": "string",
              "description": "The display name for the alias."
            },
            "replyToAddress": {
              "type": "string",
              "description": "The reply-to address."
            },
            "signature": {
              "type": "string",
              "description": "The email signature for the alias."
            }
          },
          "description": "An optional dictionary containing the properties for the new\nalias with keys:",
          "required": [
            "displayName",
            "replyToAddress",
            "sendAsEmail",
            "signature"
          ]
        }
      }
    }
  },
  {
    "name": "create_user",
    "description": "Creates a new user entry in the database.\n\nInitializes the data structure for a new user, including profile,\nempty containers for drafts, messages, threads, labels, settings, history,\nand watch configuration.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The unique identifier for the new user."
        },
        "profile": {
          "type": "object",
          "properties": {},
          "description": "A dictionary containing the initial profile information.\nIt must contain an 'emailAddress' (str) key. Other keys are permitted but ignored\nby this function's core logic beyond validation of 'emailAddress'.\nExample: {\"emailAddress\": \"user@example.com\", \"displayName\": \"John Doe\"}"
        }
      },
      "required": [
        "profile",
        "userId"
      ]
    }
  },
  {
    "name": "delete_draft",
    "description": "Immediately and permanently deletes the specified draft.\n\nRemoves the draft message identified by the given ID from the user's\nmailbox. Also cleans up any attachments that are no longer referenced\nafter the draft deletion.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the draft to delete. Defaults to ''."
        }
      }
    }
  },
  {
    "name": "delete_label",
    "description": "Immediately and permanently deletes the specified label.\n\nRemoves the label identified by the given ID from the user's list of labels.\nThis operation cannot be undone.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the label to delete. Defaults to ''."
        }
      }
    }
  },
  {
    "name": "delete_message",
    "description": "Immediately and permanently deletes the specified message.\n\nRemoves the message identified by the given ID from the user's mailbox.\nThis operation cannot be undone. Also cleans up any attachments that\nare no longer referenced after the message deletion.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the message to delete. Defaults to ''."
        }
      }
    }
  },
  {
    "name": "delete_send_as_alias",
    "description": "Deletes the specified 'Send as' alias.\n\nRemoves a custom 'from' address (alias) identified by its email address\nfrom the user's account.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "send_as_email": {
          "type": "string",
          "description": "The email address of the 'Send as' alias to delete.\nDefaults to ''."
        }
      }
    }
  },
  {
    "name": "delete_send_as_smime_info",
    "description": "Deletes the specified S/MIME certificate configuration.\n\nRemoves the S/MIME info identified by its ID from the specified\n'Send as' alias configuration.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "send_as_email": {
          "type": "string",
          "description": "The email address of the 'Send as' alias from which\nto delete the S/MIME info. Defaults to ''."
        },
        "id": {
          "type": "string",
          "description": "The ID of the S/MIME info to delete. Defaults to ''."
        }
      }
    }
  },
  {
    "name": "delete_thread",
    "description": "Immediately and permanently deletes the specified thread.\n\nThis operation cannot be undone. It removes the thread and all associated\nmessages from the user's mailbox permanently.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the thread to delete. Defaults to ''."
        }
      }
    }
  },
  {
    "name": "get_auto_forwarding_settings",
    "description": "Gets the auto-forwarding setting for the specified user.\n\nRetrieves the current auto-forwarding configuration associated with the\nuser's account from the database.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        }
      }
    }
  },
  {
    "name": "get_draft",
    "description": "Gets the specified draft.\n\nRetrieves the draft message identified by the given ID.\nThe format parameter determines what data is returned:\n- 'minimal': Returns only email message ID and labels\n- 'full': Returns the full email message data with parsed body content\n- 'raw': Returns the full email message data with body content in raw field\n- 'metadata': Returns only email message ID, labels, and email headers",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the draft to retrieve. Defaults to ''."
        },
        "format": {
          "type": "string",
          "description": "The format to return the message in. One of 'minimal',\n'full', 'raw', or 'metadata'. Defaults to 'full'."
        }
      }
    }
  },
  {
    "name": "get_imap_settings",
    "description": "Gets the IMAP settings for the specified user.\n\nRetrieves the current IMAP configuration associated with the user's account\nfrom the database.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        }
      }
    }
  },
  {
    "name": "get_label",
    "description": "Gets the specified label.\n\nRetrieves the label resource identified by the given ID.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the label to retrieve. Defaults to ''."
        }
      }
    }
  },
  {
    "name": "get_language_settings",
    "description": "Gets the language settings for the specified user.\n\nRetrieves the current language configuration (e.g., display language)\nassociated with the user's account from the database.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        }
      }
    }
  },
  {
    "name": "get_message",
    "description": "Gets the specified message.\n\nRetrieves the message resource identified by the given ID. The response format\ncan be customized using the format parameter.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the message to retrieve. Defaults to ''."
        },
        "format": {
          "type": "string",
          "description": "The format to return the message in. Must be one of:\n- 'minimal': Returns only email message ID and labels\n- 'full': Returns the full email message data with body content\n- 'raw': Returns the full email message data with raw field (RFC 2822 compliant and may include attachments (e.g., as multipart MIME))\n- 'metadata': Returns only email message ID, labels, and email headers\nDefaults to 'full'."
        },
        "metadata_headers": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of headers to include when format='metadata'.\nAll elements in the list must be strings. Defaults to None."
        }
      }
    }
  },
  {
    "name": "get_message_attachment",
    "description": "Gets the specified message attachment.\n\nRetrieves the content of a specific attachment identified by its ID from the\nglobal attachments collection. This implementation validates inputs comprehensively\nand optionally verifies that the attachment is referenced in the specified message.",
    "parameters": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "message_id": {
          "type": "string",
          "description": "The ID of the message containing the attachment. Must be a non-empty string.\nDefaults to ''."
        },
        "id": {
          "type": "string",
          "description": "The ID of the attachment to retrieve. Must be a non-empty string.\nDefaults to ''."
        }
      }
    }
  },
  {
    "name": "get_pop_settings",
    "description": "Gets the POP settings for the specified user.\n\nRetrieves the current POP (Post Office Protocol) configuration associated\nwith the user's account from the database.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        }
      }
    }
  },
  {
    "name": "get_send_as_alias",
    "description": "Gets the specified 'Send as' alias configuration.\n\nRetrieves the details of a specific custom 'from' address (alias)\nidentified by its email address.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "send_as_email": {
          "type": "string",
          "description": "The email address of the 'Send as' alias to retrieve.\nDefaults to ''."
        }
      }
    }
  },
  {
    "name": "get_send_as_smime_info",
    "description": "Gets the specified S/MIME info for a specific 'Send as' alias.\n\nRetrieves a specific S/MIME certificate configuration identified by its ID,\nassociated with the given user ID and 'Send as' email address.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "send_as_email": {
          "type": "string",
          "description": "The email address of the 'Send as' alias.\nDefaults to ''."
        },
        "smime_id": {
          "type": "string",
          "description": "The ID of the S/MIME info to retrieve. Defaults to ''."
        }
      }
    }
  },
  {
    "name": "get_thread",
    "description": "Gets the specified thread.\n\nRetrieves the details of a specific thread identified by its ID.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the thread to retrieve. Defaults to ''."
        },
        "format": {
          "type": "string",
          "description": "The format to return the messages in. Accepted values are:\n- 'full': Returns the full message data including body and all fields\n- 'metadata': Returns message ID, labels, and headers (either specified or default)\n- 'minimal': Returns only message ID and labels\n- 'raw': Returns the full message data (same as 'full' in this implementation)\nDefaults to 'full'."
        },
        "metadata_headers": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of headers to include when format is set\nto 'metadata'. If None, includes default headers (Subject, From, To, Date).\nCase-insensitive matching is used for common headers. Defaults to None."
        }
      }
    }
  },
  {
    "name": "get_user_profile",
    "description": "Gets the user's Gmail profile information.\n\nRetrieves the profile data associated with the specified user ID from the database.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        }
      }
    }
  },
  {
    "name": "get_vacation_settings",
    "description": "Gets the vacation responder settings for the specified user.\n\nRetrieves the current vacation auto-reply configuration associated with the\nuser's account from the database.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        }
      }
    }
  },
  {
    "name": "import_message",
    "description": "Imports a message into the mailbox, applying specified labels.\n\nCreates a new message entry in the database with a generated ID.\nPrimarily uses the `raw` content if provided in `msg`. Adds the 'DELETED'\nlabel if the `deleted` flag is True.\nNote: `internal_date_source`, `never_mark_spam`, and `process_for_calendar`\nare included for API compatibility but are ignored in this implementation.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "msg": {
          "type": "object",
          "properties": {
            "raw": {
              "type": "string",
              "description": "Raw message content."
            }
          },
          "description": "An optional dictionary containing the message data with keys:",
          "required": [
            "raw"
          ]
        },
        "internal_date_source": {
          "type": "string",
          "description": "Specifies how to determine the internal date.\nDefaults to 'dateHeader'. (Currently ignored)."
        },
        "never_mark_spam": {
          "type": "boolean",
          "description": "Whether to prevent the message from being marked as spam.\nDefaults to False. (Currently ignored)."
        },
        "process_for_calendar": {
          "type": "boolean",
          "description": "Whether to process calendar invitations.\nDefaults to False. (Currently ignored)."
        },
        "deleted": {
          "type": "boolean",
          "description": "Mark the imported message as deleted. Defaults to False."
        }
      }
    }
  },
  {
    "name": "insert_message",
    "description": "Directly inserts a message into the mailbox.\n\nSimilar to `import_`, but typically used for messages composed by the user\n(e.g., drafts). Creates a new message with generated ID and thread ID.\nPopulates fields based on the `msg` dictionary. Adds 'INBOX' and 'UNREAD'\nlabels by default, and 'DELETED' if the flag is set.\n\nAttachment size limits are enforced: individual attachments cannot exceed 25MB,\nand the total message size (including all attachments) cannot exceed 100MB.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "msg": {
          "type": "object",
          "properties": {
            "threadId": {
              "type": "string",
              "description": "Thread ID for the message."
            },
            "raw": {
              "type": "string",
              "description": "Raw message content. For messages with attachments, this should be a base64url-encoded RFC 2822 compliant MIME message created using create_mime_message_with_attachments()."
            },
            "sender": {
              "type": "string",
              "description": "Sender email address."
            },
            "recipient": {
              "type": "string",
              "description": "Recipient email address."
            },
            "subject": {
              "type": "string",
              "description": "Message subject."
            },
            "body": {
              "type": "string",
              "description": "Message body."
            },
            "date": {
              "type": "string",
              "description": "Message date."
            },
            "internalDate": {
              "type": "string",
              "description": "Internal date of the message."
            },
            "isRead": {
              "type": "boolean",
              "description": "Whether the message has been read."
            },
            "labelIds": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "List of labels to apply to the message in uppercase."
            }
          },
          "description": "An optional dictionary containing the message data with keys:",
          "required": [
            "body",
            "date",
            "internalDate",
            "isRead",
            "labelIds",
            "raw",
            "recipient",
            "sender",
            "subject",
            "threadId"
          ]
        },
        "internal_date_source": {
          "type": "string",
          "description": "Determines how the message's `internalDate` is set if `internalDate` is not provided or is None in the `msg` payload.\nIf `msg` contains a non-None `internalDate` field, that value is used directly (expected as a string Unix timestamp). Otherwise, this parameter applies:\n- 'receivedTime' (default): `internalDate` is set to the Unix timestamp of when the message is processed.\n- 'dateHeader': `internalDate` is derived from the `msg['date']` field. If `msg['date']` is missing or invalid, it defaults to the processing time.\nDefaults to 'receivedTime'."
        },
        "deleted": {
          "type": "boolean",
          "description": "Mark the inserted message as deleted. Defaults to False."
        }
      }
    }
  },
  {
    "name": "insert_send_as_smime_info",
    "description": "Inserts a new S/MIME info configuration for the specified 'Send as' alias.\n\nCreates and stores a new S/MIME certificate configuration. Generates a\nunique ID for the new S/MIME info.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "send_as_email": {
          "type": "string",
          "description": "The email address of the 'Send as' alias to associate\nthe S/MIME info with. Defaults to ''."
        },
        "smime": {
          "type": "object",
          "properties": {
            "encryptedKey": {
              "type": "string",
              "description": "The encrypted key for the S/MIME certificate."
            }
          },
          "description": "An optional dictionary containing the S/MIME properties with keys:",
          "required": [
            "encryptedKey"
          ]
        }
      }
    }
  },
  {
    "name": "list_drafts",
    "description": "Lists the drafts in the user's mailbox.\n\nRetrieves a list of draft messages for the specified user, optionally\nfiltered by a query string. Supports basic filtering based on `from:`, `to:`,\n`subject:`, `body:`, `label:`, and general keywords in the query `q`.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "max_results": {
          "type": "integer",
          "description": "Maximum number of drafts to return. Must be positive.\nDefaults to 100."
        },
        "q": {
          "type": "string",
          "description": "Query string to filter drafts. Supports terms like `from:`, `to:`,\n`subject:`, `body:`, `label:`, and keywords. Defaults to ''.\n\nExamples:\n    - \"from:john@example.com\" - Find drafts from john@example.com\n    - \"to:team@company.com\" - Find drafts to team@company.com\n    - \"subject:meeting\" - Find drafts with \"meeting\" in the subject\n    - \"body:project\" - Find drafts containing \"project\" in the body\n    - \"label:important\" - Find drafts with the \"important\" label\n    - \"from:john@example.com subject:meeting\" - Combine multiple filters"
        }
      }
    }
  },
  {
    "name": "list_history_records",
    "description": "Lists the history of all changes to the given mailbox.\n\nRetrieves a list of mailbox history records for the specified user.\nNote: Filtering parameters (`start_history_id`, `label_id`,\n`history_types`) and pagination (`page_token`) are included\nfor API compatibility but are not fully implemented. The function currently returns\nstored history records up to `max_results`.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "max_results": {
          "type": "integer",
          "description": "The maximum number of history records to return.\nDefaults to 100."
        },
        "page_token": {
          "type": "string",
          "description": "Page token to retrieve a specific page of results.\nDefaults to ''. (Currently ignored)."
        },
        "start_history_id": {
          "type": "string",
          "description": "Returns history records after the specified\n`start_history_id`. Defaults to ''. (Currently ignored)."
        },
        "label_id": {
          "type": "string",
          "description": "History records specific to the specified label in uppercase.\nDefaults to ''. (Currently ignored)."
        },
        "history_types": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "History types to retrieve. Defaults to None.\n(Currently ignored)."
        }
      }
    }
  },
  {
    "name": "list_labels",
    "description": "Lists all labels in the user's mailbox.\n\nRetrieves a list of all label resources associated with the specified user.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        }
      }
    }
  },
  {
    "name": "list_messages",
    "description": "Lists the messages in the user's mailbox.\n\nRetrieves a list of messages matching the specified query criteria.\nSupports filtering based on whether the message has the `TRASH` or `SPAM` label,\nand using `q` (keywords, from:, to:, label:, subject:, attachment:) and `labelIds`.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user ID. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "max_results": {
          "type": "integer",
          "description": "Maximum number of messages to return. Defaults to 100."
        },
        "q": {
          "type": "string",
          "description": "Query string for filtering messages. Strings with spaces must be enclosed\nin single (') or double (\") quotes. Supports space-delimited tokens\n(each one filters the current result set). Supported tokens:\n- `from:<email>`       Exact sender address (case-insensitive)\n- `to:<email>`         Exact recipient address (case-insensitive)\n- `label:<LABEL_ID>`   Uppercase label ID\n- `subject:<text>`     Substring match in the subject (case-insensitive)\n- `<keyword>`          Substring match in subject, body, sender or recipient (case-insensitive)\n- `\"<phrase>\"`         Exact phrase match in subject or body (case-insensitive)\n\nFilters are combined by implicit AND; token order does not matter.\nExamples:\n    # Messages from bob@example.com with \"report\" in the subject\n    q='from:bob@example.com subject:report'\n    # Messages mentioning the exact phrase \"urgent fix\"\n    q='\"urgent fix\"'"
        },
        "labelIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of label IDs required on messages. Defaults to None."
        },
        "include_spam_trash": {
          "type": "boolean",
          "description": "Include messages from SPAM and TRASH.\nDefaults to False."
        }
      }
    }
  },
  {
    "name": "list_send_as_aliases",
    "description": "Lists the 'Send as' aliases for the specified user.\n\nRetrieves all custom 'from' addresses (aliases) associated with the user's\naccount from the database.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        }
      }
    }
  },
  {
    "name": "list_send_as_smime_info",
    "description": "Lists the S/MIME info for a specific 'Send as' alias.\n\nRetrieves all S/MIME certificate configurations associated with the given\nuser ID and 'Send as' email address from the database.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "send_as_email": {
          "type": "string",
          "description": "The email address of the 'Send as' alias.\nDefaults to ''."
        }
      }
    }
  },
  {
    "name": "list_threads",
    "description": "Lists the threads in the user's mailbox.\n\nRetrieves a list of threads matching the specified query criteria.\nNote: Query parameters (`q`, `labelIds`, `include_spam_trash`, `page_token`)\nare included for API compatibility but are not fully implemented.\nThe filtering based on these parameters is not performed.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "max_results": {
          "type": "integer",
          "description": "Maximum number of threads to return. Defaults to 100.\nActual results might be fewer if less threads exist. The maximum allowed value is 500."
        },
        "page_token": {
          "type": "string",
          "description": "Page token to retrieve a specific page of results.\nDefaults to ''. (Currently ignored)."
        },
        "q": {
          "type": "string",
          "description": "Only return threads matching the specified query. Supports the same\nquery format as the Gmail search box. Defaults to ''. (Currently ignored)."
        },
        "labelIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Only return threads with labels that match all of the specified\nlabel IDs in uppercase. Defaults to None. (Currently ignored)."
        },
        "include_spam_trash": {
          "type": "boolean",
          "description": "Include threads from SPAM and TRASH in the results.\nDefaults to False. (Currently ignored)."
        }
      }
    }
  },
  {
    "name": "modify_message_labels",
    "description": "Modifies the labels on the specified message.\n\nAdds or removes labels from the message identified by the given ID. All labels are handled\ncase-insensitively and stored in their uppercase form. The function enforces label exclusivity\nrules where INBOX is mutually exclusive with SENT, DRAFT, and TRASH. Adding SENT, DRAFT, or TRASH\nwill automatically remove INBOX, while adding INBOX will only succeed if none of SENT, DRAFT, or\nTRASH are present. All labels are converted to uppercase before processing, duplicates are\nautomatically removed, and labels are stored in a sorted list for consistency. Custom labels can\nbe added alongside system labels.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the message to modify. Defaults to ''."
        },
        "addLabelIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of label names to add. Label names are handled\ncase-insensitively and stored in their uppercase form. Defaults to None."
        },
        "removeLabelIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of label names to remove. Label names are handled\ncase-insensitively and stored in their uppercase form. Defaults to None."
        }
      }
    }
  },
  {
    "name": "modify_thread_labels",
    "description": "Modifies the labels applied to the specified thread.\n\nAdds or removes labels from all messages within the specified thread.\nIt utilizes the `Messages.modify` function for each message in the thread.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me' can be used to indicate the authenticated user."
        },
        "id": {
          "type": "string",
          "description": "The ID of the thread to modify."
        },
        "addLabelIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of IDs of labels to add to this message. You can add up to 100 labels with each update."
        },
        "removeLabelIds": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of IDs of labels to remove from this message. You can remove up to 100 labels with each update."
        }
      }
    }
  },
  {
    "name": "patch_label",
    "description": "Updates the specified label. Alias for update.\n\nThis function is an alias for the `update` function. It modifies an\nexisting label identified by its ID using the properties provided in the\n`label` argument. This performs a full update, replacing the existing\nlabel properties with the new ones.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the label to update/patch. Defaults to ''."
        },
        "label": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "description": "The display name of the label."
            },
            "messageListVisibility": {
              "type": "string",
              "description": "The visibility of messages with this label\n      in the message list. Must be one of: 'show', 'hide'."
            },
            "labelListVisibility": {
              "type": "string",
              "description": "The visibility of the label in the label list.\n      Must be one of: 'labelShow', 'labelShowIfUnread', 'labelHide'."
            },
            "type": {
              "type": "string",
              "description": "The owner type for the label. Must be one of: 'user', 'system'."
            },
            "messagesTotal": {
              "type": "integer",
              "description": "The total number of messages with the label."
            },
            "messagesUnread": {
              "type": "integer",
              "description": "The number of unread messages with the label."
            },
            "threadsTotal": {
              "type": "integer",
              "description": "The total number of threads with the label."
            },
            "threadsUnread": {
              "type": "integer",
              "description": "The number of unread threads with the label."
            },
            "color": {
              "type": "object",
              "properties": {
                "textColor": {
                  "type": "string",
                  "description": "The text color of the label, represented as hex string."
                },
                "backgroundColor": {
                  "type": "string",
                  "description": "The background color represented as hex string #RRGGBB."
                }
              },
              "description": "The color assigned to the label with keys:",
              "required": [
                "backgroundColor",
                "textColor"
              ]
            }
          },
          "description": "An optional dictionary containing the properties to update\nthe label. Defaults to None, which results in an empty dictionary.\nOptional fields:",
          "required": [
            "color",
            "labelListVisibility",
            "messageListVisibility",
            "messagesTotal",
            "messagesUnread",
            "name",
            "threadsTotal",
            "threadsUnread",
            "type"
          ]
        }
      }
    }
  },
  {
    "name": "patch_send_as_alias",
    "description": "Updates the specified 'Send as' alias configuration. Alias for update.\n\nThis function is an alias for the `update` function. It modifies an\nexisting alias. Note: This implementation performs patch as a full update.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "send_as_email": {
          "type": "string",
          "description": "The email address of the alias to update/patch.\nDefaults to ''."
        },
        "send_as": {
          "type": "object",
          "properties": {
            "displayName": {
              "type": "string",
              "description": "The display name for the alias."
            },
            "replyToAddress": {
              "type": "string",
              "description": "The reply-to address."
            },
            "signature": {
              "type": "string",
              "description": "The email signature for the alias."
            }
          },
          "description": "An optional dictionary containing the properties to update with keys:",
          "required": [
            "displayName",
            "replyToAddress",
            "signature"
          ]
        }
      }
    }
  },
  {
    "name": "patch_send_as_smime_info",
    "description": "Updates the specified S/MIME info. Alias for update.\n\nThis function is an alias for the `update` function. It modifies an\nexisting S/MIME certificate configuration. Note: Implemented as a full update.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "send_as_email": {
          "type": "string",
          "description": "The email address of the 'Send as' alias. Defaults to ''."
        },
        "id": {
          "type": "string",
          "description": "The ID of the S/MIME info to update/patch. Defaults to ''."
        },
        "smime": {
          "type": "object",
          "properties": {
            "encryptedKey": {
              "type": "string",
              "description": "The encrypted key for the S/MIME certificate."
            }
          },
          "description": "An optional dictionary containing the properties to update with keys:",
          "required": [
            "encryptedKey"
          ]
        }
      }
    }
  },
  {
    "name": "send_draft",
    "description": "Sends the specified draft.\n\nSends the message associated with a draft. If the `draft` argument contains\nan `id` corresponding to an existing draft, that draft is sent and then\ndeleted. If no `id` is provided, or the `id` doesn't match an existing\ndraft, the message content within the `draft` argument (specifically\n`draft['message']['raw']`) is sent directly using `Messages.send`.\n\nAttachment size limits are enforced: individual attachments cannot exceed 25MB,\nand the total message size (including all attachments) cannot exceed 100MB.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "draft": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "description": "The ID of an existing draft to send."
            },
            "message": {
              "type": "object",
              "properties": {
                "threadId": {
                  "type": "string",
                  "description": "The ID of the thread this message belongs to."
                },
                "raw": {
                  "type": "string",
                  "description": "The entire message represented as a base64url-encoded string\n              (RFC 4648 Section 5). The raw string must be RFC 2822 compliant and may include attachments\n              (e.g., as multipart MIME). Individual attachments are limited to 25MB each, with\n              a total message size limit of 100MB. Optional; if not provided, the message will be \n              constructed from 'sender', 'recipient', 'subject', 'body', etc."
                },
                "internalDate": {
                  "type": "string",
                  "description": "The internal message creation timestamp (epoch ms)."
                },
                "labelIds": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "List of label IDs applied to this message."
                },
                "snippet": {
                  "type": "string",
                  "description": "A short part of the message text."
                },
                "historyId": {
                  "type": "string",
                  "description": "The ID of the last history record that modified this message."
                },
                "sizeEstimate": {
                  "type": "integer",
                  "description": "Estimated size in bytes of the message."
                },
                "sender": {
                  "type": "string",
                  "description": "The email address of the sender."
                },
                "recipient": {
                  "type": "string",
                  "description": "The email address of the recipient."
                },
                "subject": {
                  "type": "string",
                  "description": "The message subject."
                },
                "body": {
                  "type": "string",
                  "description": "The message body text."
                },
                "isRead": {
                  "type": "boolean",
                  "description": "Whether the message has been read."
                },
                "date": {
                  "type": "string",
                  "description": "The message date."
                },
                "payload": {
                  "type": "object",
                  "properties": {
                    "mimeType": {
                      "type": "string",
                      "description": "The MIME type of the message."
                    },
                    "parts": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "mimeType": {
                            "type": "string",
                            "description": "The MIME type of the part."
                          },
                          "filename": {
                            "type": "string",
                            "description": "The filename for attachment parts."
                          },
                          "body": {
                            "type": "object",
                            "properties": {
                              "attachmentId": {
                                "type": "string",
                                "description": "The attachment ID reference."
                              },
                              "size": {
                                "type": "integer",
                                "description": "The size of the attachment in bytes (max 25MB per attachment)."
                              }
                            },
                            "description": "The body content with keys:",
                            "required": [
                              "attachmentId",
                              "size"
                            ]
                          }
                        },
                        "required": [
                          "body",
                          "mimeType"
                        ]
                      },
                      "description": "List of message parts for attachments:"
                    }
                  },
                  "description": "The parsed email structure with keys:",
                  "required": [
                    "mimeType",
                    "parts"
                  ]
                }
              },
              "description": "The message content to send directly with keys:"
            }
          },
          "description": "An optional dictionary containing the draft to send with keys:"
        }
      }
    }
  },
  {
    "name": "send_message",
    "description": "Sends the specified message to the specified recipient.\n\nProcesses RFC 2822 MIME messages by parsing the base64url-encoded raw message\nto extract headers and payload structure. Automatically extracts and stores\nany attachments, creating the proper Gmail API payload structure with parts references.\n\nAttachment size limits are enforced: individual attachments cannot exceed 25MB,\nand the total message size (including all attachments) cannot exceed 100MB.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "msg": {
          "type": "object",
          "properties": {
            "raw": {
              "type": "string",
              "description": "The entire message represented as a base64url-encoded string\n              (RFC 4648 Section 5). The raw string must be RFC 2822 compliant and may include attachments\n              (e.g., as multipart MIME). Individual attachments are limited to 25MB each, with\n              a total message size limit of 100MB. Optional; if not provided, the message will be \n              constructed from 'sender', 'recipient', 'subject', 'body', etc. For messages with attachments,\n              this should be created using create_mime_message_with_attachments()."
            },
            "threadId": {
              "type": "string",
              "description": "Thread ID to assign to the message. If not specified,\n                   a new thread will be created. Defaults to auto-generated."
            },
            "labelIds": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "List of label IDs to apply to the message.\n                         The 'SENT' label is automatically applied."
            },
            "sender": {
              "type": "string",
              "description": "Sender email address."
            },
            "recipient": {
              "type": "string",
              "description": "Recipient email address."
            },
            "subject": {
              "type": "string",
              "description": "Message subject line."
            },
            "body": {
              "type": "string",
              "description": "Plain text message body."
            },
            "date": {
              "type": "string",
              "description": "Message date in RFC 2822 format."
            },
            "internalDate": {
              "type": "string",
              "description": "Internal timestamp as milliseconds since epoch."
            },
            "isRead": {
              "type": "boolean",
              "description": "Whether the message has been read."
            }
          },
          "description": "An optional dictionary containing the message data with keys:",
          "required": [
            "body",
            "date",
            "internalDate",
            "isRead",
            "labelIds",
            "recipient",
            "sender",
            "subject",
            "threadId"
          ]
        }
      }
    }
  },
  {
    "name": "set_default_send_as_smime_info",
    "description": "Sets the specified S/MIME certificate as the default for the alias.\n\nMarks the S/MIME info identified by `id` as the default configuration\nfor the given 'Send as' alias, removing the default status from any other\nS/MIME configurations for that alias.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "send_as_email": {
          "type": "string",
          "description": "The email address of the 'Send as' alias. Defaults to ''."
        },
        "id": {
          "type": "string",
          "description": "The ID of the S/MIME info to set as default. Defaults to ''."
        }
      }
    }
  },
  {
    "name": "stop_mailbox_watch",
    "description": "Stop receiving push notifications for the user's mailbox.\n\nClears the stored watch configuration for the specified user.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        }
      }
    }
  },
  {
    "name": "trash_message",
    "description": "Moves the specified message to the trash.\n\nAdds the 'TRASH' label to the message identified by the given ID.\nIf the message already has the 'TRASH' label, it remains unchanged.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the message to trash. Defaults to ''."
        }
      }
    }
  },
  {
    "name": "trash_thread",
    "description": "Moves the specified thread to the trash.\n\nThis operation marks the thread and all messages within it as trashed.\nIt utilizes the `Messages.trash` function for each message in the thread.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the thread to trash. Defaults to ''."
        }
      }
    }
  },
  {
    "name": "untrash_message",
    "description": "Removes the specified message from the trash.\n\nRemoves the 'TRASH' label (uppercase) from the message.\nIf the message does not have 'TRASH', it remains unchanged.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the message to untrash. Defaults to ''."
        }
      }
    }
  },
  {
    "name": "untrash_thread",
    "description": "Removes the specified thread from the trash.\n\nThis operation restores the thread and all messages within it from the trash.\nIt utilizes the `Messages.untrash` function for each message in the thread.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the thread to untrash. Defaults to ''."
        }
      }
    }
  },
  {
    "name": "update_auto_forwarding_settings",
    "description": "Updates the auto-forwarding setting for the specified user.\n\nModifies the auto-forwarding configuration for the user's account based\non the provided `auto_forwarding_settings`. Only the fields present in the\ninput dictionary are updated.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "auto_forwarding_settings": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "Whether to enable auto-forwarding."
            },
            "emailAddress": {
              "type": "string",
              "description": "Valid email address to forward messages to."
            },
            "disposition": {
              "type": "string",
              "description": "How to handle forwarded messages.\n  Valid values: 'dispositionUnspecified', 'leaveInInbox', 'archive', 'trash', 'markRead'."
            }
          },
          "description": "An optional dictionary containing \nthe settings to update with keys:",
          "required": [
            "disposition",
            "emailAddress",
            "enabled"
          ]
        }
      }
    }
  },
  {
    "name": "update_draft",
    "description": "Replaces a draft's content.\n\nUpdates an existing draft message identified by its ID with the content\nprovided in the `draft` argument. If the draft with the specified ID\ndoes not exist, it returns None.\nEnsures the 'DRAFT' label is present on the updated message.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the draft to update."
        },
        "draft": {
          "type": "object",
          "properties": {
            "message": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "The immutable ID of the message."
                },
                "threadId": {
                  "type": "string",
                  "description": "The ID of the thread this message belongs to."
                },
                "raw": {
                  "type": "string",
                  "description": "The entire message represented as a base64url-encoded string\n              (RFC 4648 Section 5). The raw string must be RFC 2822 compliant and may include attachments\n              (e.g., as multipart MIME). Optional; if not provided, the message will be constructed from 'sender', 'recipient', 'subject', 'body', etc."
                },
                "labelIds": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "List of label IDs applied to this message. If provided,\n      replaces all existing labels except 'DRAFT' (which is always preserved). The 'INBOX' label\n      is explicitly removed if present in the input list."
                },
                "snippet": {
                  "type": "string",
                  "description": "A short part of the message text."
                },
                "historyId": {
                  "type": "string",
                  "description": "The ID of the last history record that modified this message."
                },
                "internalDate": {
                  "type": "string",
                  "description": "The internal message creation timestamp (epoch ms)."
                },
                "sizeEstimate": {
                  "type": "integer",
                  "description": "Estimated size in bytes of the message."
                },
                "sender": {
                  "type": "string",
                  "description": "The email address of the sender."
                },
                "recipient": {
                  "type": "string",
                  "description": "The email address of the recipient."
                },
                "subject": {
                  "type": "string",
                  "description": "The message subject."
                },
                "body": {
                  "type": "string",
                  "description": "The message body text."
                },
                "isRead": {
                  "type": "boolean",
                  "description": "Whether the message has been read."
                },
                "date": {
                  "type": "string",
                  "description": "The date this message was created."
                },
                "payload": {
                  "type": "object",
                  "properties": {
                    "mimeType": {
                      "type": "string",
                      "description": "The MIME type of the message."
                    },
                    "parts": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "mimeType": {
                            "type": "string",
                            "description": "The MIME type of the part."
                          },
                          "filename": {
                            "type": "string",
                            "description": "The filename for attachment parts."
                          },
                          "body": {
                            "type": "object",
                            "properties": {
                              "attachmentId": {
                                "type": "string",
                                "description": "The attachment ID reference."
                              },
                              "size": {
                                "type": "integer",
                                "description": "The size of the attachment in bytes."
                              }
                            },
                            "description": "The body content with keys:",
                            "required": [
                              "attachmentId",
                              "size"
                            ]
                          }
                        },
                        "required": [
                          "body",
                          "mimeType"
                        ]
                      },
                      "description": "List of message parts for attachments:"
                    }
                  },
                  "description": "The parsed email structure with keys:",
                  "required": [
                    "mimeType",
                    "parts"
                  ]
                }
              },
              "description": "The message updates with keys:"
            }
          },
          "description": "An optional dictionary containing the updated draft message content with keys:",
          "required": [
            "message"
          ]
        }
      },
      "required": [
        "id"
      ]
    }
  },
  {
    "name": "update_imap_settings",
    "description": "Updates the IMAP settings for the specified user.\n\nModifies the IMAP configuration for the user's account based on the provided\n`imap_settings`. Only the fields present in the input dictionary are updated.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "imap_settings": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "Whether to enable IMAP access."
            },
            "autoExpunge": {
              "type": "boolean",
              "description": "Whether to automatically expunge messages."
            },
            "expungeBehavior": {
              "type": "string",
              "description": "How to handle expunged messages."
            }
          },
          "description": "An optional dictionary containing the IMAP settings to update with keys:",
          "required": [
            "autoExpunge",
            "enabled",
            "expungeBehavior"
          ]
        }
      }
    }
  },
  {
    "name": "update_label",
    "description": "Updates the specified label.\n\nModifies an existing label identified by its ID using the properties\nprovided in the label argument. This performs a full update, replacing\nthe existing label properties with the new ones.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "id": {
          "type": "string",
          "description": "The ID of the label to update. Defaults to ''."
        },
        "label": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "description": "The display name of the label. For system labels, will be automatically converted to uppercase."
            },
            "labelListVisibility": {
              "type": "string",
              "description": "The visibility of the label in the label list.\n    Must be one of: 'labelShow', 'labelShowIfUnread', 'labelHide'."
            },
            "messageListVisibility": {
              "type": "string",
              "description": "The visibility of the label in the message list.\n    Must be one of: 'show', 'hide'."
            },
            "type": {
              "type": "string",
              "description": "The owner type for the label. Must be 'user' for custom labels.\n    System labels cannot have their type changed."
            },
            "color": {
              "type": "object",
              "properties": {
                "textColor": {
                  "type": "string",
                  "description": "The text color of the label, represented as hex string."
                },
                "backgroundColor": {
                  "type": "string",
                  "description": "The background color represented as hex string #RRGGBB."
                }
              },
              "description": "The color to assign to the label with keys:",
              "required": [
                "backgroundColor",
                "textColor"
              ]
            }
          },
          "description": "An optional dictionary containing the updated properties for the\nlabel with keys:",
          "required": [
            "labelListVisibility",
            "messageListVisibility",
            "name",
            "type"
          ]
        }
      }
    }
  },
  {
    "name": "update_language_settings",
    "description": "Updates the language settings for the specified user.\n\nModifies the language configuration for the user's account based on the\nprovided `language_settings`. Only the fields present in the input dictionary\nare updated.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "language_settings": {
          "type": "object",
          "properties": {
            "displayLanguage": {
              "type": "string",
              "description": "The language code for display (e.g., 'en-US' for English)."
            }
          },
          "description": "An optional dictionary containing the language settings\nto update with keys:",
          "required": [
            "displayLanguage"
          ]
        }
      }
    }
  },
  {
    "name": "update_pop_settings",
    "description": "Updates the POP settings for the specified user.\n\nModifies the POP configuration for the user's account based on the provided\n`pop_settings`. Only the fields present in the input dictionary are updated.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "pop_settings": {
          "type": "object",
          "properties": {
            "accessWindow": {
              "type": "string",
              "description": "The range of messages accessible via POP.\n                      Valid values: 'accessWindowUnspecified', 'disabled', 'fromNowOn', 'allMail'"
            },
            "disposition": {
              "type": "string",
              "description": "How to handle messages after POP access.\n                     Valid values: 'dispositionUnspecified', 'leaveInInbox', 'archive', 'trash', 'markRead'"
            }
          },
          "description": "An optional dictionary containing the POP settings to update with keys:",
          "required": [
            "accessWindow",
            "disposition"
          ]
        }
      }
    }
  },
  {
    "name": "update_send_as_alias",
    "description": "Updates the specified 'Send as' alias configuration.\n\nModifies an existing custom 'from' address (alias) identified by its email\naddress, using the properties provided in the `send_as` argument.\nThis performs a full update.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "send_as_email": {
          "type": "string",
          "description": "The email address of the 'Send as' alias to update.\nDefaults to ''."
        },
        "send_as": {
          "type": "object",
          "properties": {
            "displayName": {
              "type": "string",
              "description": "The display name for the alias."
            },
            "replyToAddress": {
              "type": "string",
              "description": "The reply-to address."
            },
            "signature": {
              "type": "string",
              "description": "The email signature for the alias."
            }
          },
          "description": "An optional dictionary containing the updated properties with keys:",
          "required": [
            "displayName",
            "replyToAddress",
            "signature"
          ]
        }
      }
    }
  },
  {
    "name": "update_send_as_smime_info",
    "description": "Updates the specified S/MIME info.\n\nModifies an existing S/MIME certificate configuration identified by its ID.\nThis performs a full update, replacing existing properties.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "send_as_email": {
          "type": "string",
          "description": "The email address of the 'Send as' alias associated\nwith the S/MIME info. Defaults to ''."
        },
        "id": {
          "type": "string",
          "description": "The ID of the S/MIME info to update. Defaults to ''."
        },
        "smime": {
          "type": "object",
          "properties": {
            "encryptedKey": {
              "type": "string",
              "description": "The encrypted key for the S/MIME certificate."
            }
          },
          "description": "An optional dictionary containing the updated S/MIME properties with keys:",
          "required": [
            "encryptedKey"
          ]
        }
      }
    }
  },
  {
    "name": "update_vacation_settings",
    "description": "Updates the vacation responder settings for the specified user.\n\nModifies the vacation auto-reply configuration for the user's account based\non the provided `vacation_settings`. Only the fields present in the input\ndictionary are updated.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "vacation_settings": {
          "type": "object",
          "properties": {
            "enableAutoReply": {
              "type": "boolean",
              "description": "Whether to enable vacation auto-reply."
            },
            "responseSubject": {
              "type": "string",
              "description": "Subject line of the auto-reply message."
            },
            "responseBodyHtml": {
              "type": "string",
              "description": "HTML body of the auto-reply message."
            }
          },
          "description": "An optional dictionary containing the vacation settings\nto update with keys:",
          "required": [
            "enableAutoReply",
            "responseBodyHtml",
            "responseSubject"
          ]
        }
      }
    }
  },
  {
    "name": "verify_send_as_alias",
    "description": "Verifies the specified 'Send as' alias.\n\nInitiates the verification process for a custom 'from' address. If the alias\nexists and requires verification (e.g., status is 'pending'), its status\nmay be updated to 'accepted' upon successful verification.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "send_as_email": {
          "type": "string",
          "description": "The email address of the 'Send as' alias to verify.\nDefaults to ''."
        }
      }
    }
  },
  {
    "name": "watch_user_mailbox",
    "description": "Set up or update a watch on the user's mailbox.\n\nStores the watch request configuration for the specified user.",
    "parameters": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The user's email address. The special value 'me'\ncan be used to indicate the authenticated user. Defaults to 'me'."
        },
        "request": {
          "type": "object",
          "properties": {},
          "description": "An optional dictionary containing the watch request body.\nThe exact structure depends on the watch configuration requirements.\nDefaults to None, resulting in an empty watch configuration."
        }
      }
    }
  }
]