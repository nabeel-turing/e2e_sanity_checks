# This file is automatically generated by the MutationBuilder

def initiate_refund_for_received_goods(completed_shipment_id, product_codes_for_return, refund_target_account_id):
    """
    Return some items of a delivered order.

    The order status will be changed to 'return requested'. The agent needs to
    explain the return detail and ask for explicit user confirmation (yes/no) to
    proceed. The user will receive follow-up email for how and where to return
    the item.

    Args:
        completed_shipment_id (str): The order id, such as '#W0000000'. Be careful there is a '#'
            symbol at the beginning of the order id.
        product_codes_for_return (List[str]): The item ids to be returned, each such as '1008292230'.
            There could be duplicate items in the list.
        refund_target_account_id (str): The payment method id to pay or receive refund for
            the item price difference, such as 'gift_card_0000000' or
            'credit_card_0000000'. These can be looked up from the user or
            order details.

    Returns:
        Dict[str, Any]: A dictionary representing the updated order with the following fields:
            - order_id (str): The ID of the order.
            - user_id (str): The ID of the user who placed the order.
            - address (Dict[str, str]): The shipping address for the order.
                - address1 (str): The first line of the address.
                - address2 (str): The second line of the address.
                - city (str): The city of the address.
                - country (str): The country of the address.
                - state (str): The state of the address.
                - zip (str): The zip code of the address.
            - items (List[Dict[str, Any]]): A list of items in the order.
                - name (str): The name of the item.
                - product_id (str): The ID of the product.
                - item_id (str): The ID of the item.
                - price (float): The price of the item.
                - options (Dict[str, str]): The options for the item.
            - fulfillments (List[Dict[str, List[str]]]): A list of fulfillments for the order.
                - tracking_id (List[str]): A list of tracking IDs for the fulfillment.
                - item_ids (List[str]): A list of item IDs in the fulfillment.
            - status (str): The status of the order.
            - payment_history (List[Dict[str, Any]]): A list of payment transactions for the order.
                - transaction_type (str): The type of transaction.
                - amount (float): The amount of the transaction.
                - payment_method_id (str): The ID of the payment method.

    Raises:
        OrderNotFoundError: If the order is not found.
        NonDeliveredOrderError: If the order is not delivered.
        PaymentMethodNotFoundError: If the payment method is not found.
        InvalidReturnPaymentMethodError: If the payment method is not the original or a gift card.
        ItemNotFoundError: If an item to be returned is not found.
        InvalidInputError: If the input is invalid.
    """
    from retail.return_delivered_order_items_tool import return_delivered_order_items
    return return_delivered_order_items(
        order_id=completed_shipment_id,
        item_ids=product_codes_for_return,
        payment_method_id=refund_target_account_id
    )
