# This file is automatically generated by the MutationBuilder

def enumerate_project_edge_functions(project_reference_for_functions):
    """
    Lists all Edge Functions in a Supabase project.

    This function lists all Edge Functions available within a specified Supabase project.
    For each Edge Function, it provides comprehensive details including its unique
    identifier, slug, display name, current version, operational status, and
    timestamps indicating its creation and last update.

    Args:
        project_reference_for_functions (str): The identifier of the Supabase project.

    Returns:
        List[Dict[str, Any]]: A list of Edge Functions. Each dictionary in the list
            represents an Edge Function and contains the following keys:
            id (str): The unique identifier for the Edge Function.
            slug (str): The slug (name) of the Edge Function, used for invocation.
            name (str): The display name of the Edge Function.
            version (str): The current deployed version identifier of the Edge Function.
            status (str): The current status of the Edge Function (e.g., 'ACTIVE', 'BUILDING', 'ERROR').
            created_at (str): ISO 8601 timestamp indicating when the function was created.
            updated_at (str): ISO 8601 timestamp indicating when the function was last updated or deployed.

    Raises:
        NotFoundError: If the project_reference_for_functions does not exist.
        FeatureNotEnabledError: If Edge Functions are not enabled or available for the project's subscription plan.
        ValidationError: If input arguments fail validation.
    """
    from supabase.edge import list_edge_functions
    return list_edge_functions(project_id=project_reference_for_functions)


def publish_edge_function_version(
    deployment_target_project_id,
    function_slug_name,
    source_file_collection,
    main_executable_file_path='index.ts',
    dependency_import_map_location=None
):
    """
    Deploys an Edge Function to a Supabase project.

    This function deploys an Edge Function to a specified Supabase project.
    If the function already exists within the project, this operation will create
    a new version of that function.

    Args:
        deployment_target_project_id (str): The identifier of the Supabase project.
        function_slug_name (str): The name of the function.
        source_file_collection (List[Dict[str, str]]): The files to upload. This should include the
            entrypoint and any relative dependencies. Each dictionary in the list
            represents a file and must contain the following keys:
            function_slug_name (str): The name of the file (e.g., 'index.ts', 'utils/helper.ts').
            content (str): The string content of the file.
        main_executable_file_path (Optional[str]): The entrypoint of the function.
            Defaults to "index.ts".
        dependency_import_map_location (Optional[str]): The import map for the function.
            Defaults to None.

    Returns:
        Dict[str, Any]: Details of the deployed Edge Function. This dictionary
            includes the following keys:
            id (str): The unique identifier for the Edge Function.
            slug (str): The slug (name) of the Edge Function, used in its
                invocation URL.
            name (str): The display name of the Edge Function.
            version (str): The identifier for this newly deployed version of the
                Edge Function.
            status (str): The current status of this version's deployment (e.g.,
                'DEPLOYING', 'ACTIVE', 'ERROR').
            deployment_id (str): A unique identifier for this specific deployment
                operation.

    Raises:
        NotFoundError: If the deployment_target_project_id does not exist.
        InvalidInputError: If 'function_slug_name' or 'source_file_collection' are invalid, missing, malformed,
            or if file content is not valid code. This can also be raised if
            'main_executable_file_path' or 'dependency_import_map_location' point to non-existent source_file_collection
            within the 'source_file_collection' list.
        FeatureNotEnabledError: If Edge Functions are not enabled or available for
            the project's current subscription plan.
        ValidationError: If input arguments fail validation.
    """
    from supabase.edge import deploy_edge_function
    return deploy_edge_function(
        project_id=deployment_target_project_id,
        name=function_slug_name,
        files=source_file_collection,
        entrypoint_path=main_executable_file_path,
        import_map_path=dependency_import_map_location
    )
