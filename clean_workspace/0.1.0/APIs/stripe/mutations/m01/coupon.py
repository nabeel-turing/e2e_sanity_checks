# This file is automatically generated by the MutationBuilder

def fetch_available_discounts(coupon_list_limit=None):
    """
    This tool will fetch a list of Coupons from Stripe.

    This function fetches a list of Coupons from Stripe. It takes one optional argument,
    `limit`, which is an integer used to specify the number of coupons to return.

    Args:
        coupon_list_limit (Optional[int]): A limit on the number of objects to be returned. Limit can range between 1 and 100.

    Returns:
        Dict[str, Any]: A dictionary containing the list of coupons and related information. It includes the following keys:
            object (str): String representing the object's type, typically "list".
            data (List[Dict[str, Any]]): A list of coupon objects. Each dictionary in the list represents a coupon and contains the following keys:
                id (str): Unique identifier for the coupon.
                object (str): String representing the object's type, typically "coupon".
                name (Optional[str]): Name of the coupon.
                percent_off (Optional[float]): Percent-off discount of the coupon.
                amount_off (Optional[int]): Amount (in cents) that will be taken off the subtotal of any invoices for this customer.
                currency (Optional[str]): If `amount_off` is present, the currency of the amount to take off.
                duration (str): Describes how long a customer who applies this coupon will get the discount (e.g., 'once', 'repeating', 'forever').
                duration_in_months (Optional[int]): If `duration` is 'repeating', the number of months the coupon applies.
                livemode (bool): Indicates if the object exists in live mode or test mode.
                valid (bool): Whether the coupon is currently valid and can be used.
                metadata (Optional[Dict[str, str]]): A set of key-value pairs.
            has_more (bool): True if there are more coupons to retrieve.

    Raises:
        InvalidRequestError: If the coupon_list_limit parameter is invalid (e.g., not an integer or out of range).
        ValidationError: If input arguments fail validation.
    """
    from stripe.coupon import list_coupons
    return list_coupons(limit=coupon_list_limit)


def generate_new_discount_code(
    discount_code_name,
    fixed_amount_discount,
    discount_currency='USD',
    discount_duration_type='once',
    percentage_discount_value=None,
    repeating_duration_in_months=None
):
    """
    This function creates a coupon in Stripe. The discount can be specified either as a percentage off via `percent_off`
    or as a fixed amount off via `amount_off`. It is essential that only one of these, `percent_off` or `amount_off`,
    is used to define the discount; providing values for both, or values for neither
    that define a valid discount, will result in an error. If `amount_off` is used as the discount method,
    the `currency` parameter must also be appropriately set (it defaults to 'USD').
    The function also supports optional parameters to define the coupon's duration. The `duration`
    parameter specifies how long the discount remains active and accepts 'once', 'repeating', or 'forever'
    (defaulting to 'once'). If `duration` is 'repeating', the `duration_in_months` parameter is
    required to indicate the number of months the coupon applies.

    Args:
        discount_code_name (str): Name of the coupon displayed to customers on invoices or receipts.
        fixed_amount_discount (int): A positive integer representing the amount to subtract from an
            invoice total. This parameter is required by the function signature.
        discount_currency (Optional[str]): Three-letter ISO code for the currency of the `amount_off`
            parameter (e.g., 'USD', 'EUR'). This is required if `amount_off` is used to
            specify the discount and `percent_off` is not provided. Defaults to 'USD'.
        discount_duration_type (Optional[str]): Specifies how long the discount will last. Valid values
            are 'once', 'repeating', or 'forever'. Defaults to 'once'.
        percentage_discount_value (Optional[float]): A positive float greater than or equal to 0 and less than or
            equal to 100, representing the percentage discount the coupon will apply.
            If provided, this defines the coupon's discount instead of `amount_off`.
        repeating_duration_in_months (Optional[int]): If `duration` is 'repeating', this specifies
            the number of months the discount will apply.

    Returns:
        Dict[str, Any]: A dictionary representing the Stripe coupon object that was created.
            This dictionary contains information about the coupon, including its ID,
            discount details, duration, and validity. The structure includes the
            following keys:
            id (str): Unique identifier for the coupon.
            object (str): String representing the object's type, always "coupon".
            name (Optional[str]): Name of the coupon.
            percent_off (Optional[float]): Percent-off discount of the coupon. A positive
                float between 0 (exclusive) and 100 (inclusive). Null if
                'amount_off' is set as the discount method.
            amount_off (Optional[int]): Amount (in cents) that will be taken off the
                subtotal. A positive integer. Null if 'percent_off' is set as the
                discount method.
            currency (Optional[str]): If 'amount_off' is present and used for the discount,
                the three-letter ISO currency code (e.g., 'usd', 'eur') for the amount.
            duration (str): Describes how long a customer who applies this coupon will
                get the discount. One of 'once', 'repeating', or 'forever'.
            duration_in_months (Optional[int]): If 'duration' is 'repeating', this is
                the number of months the coupon applies.
            livemode (bool): True if the object exists in live mode, or false if the
                object exists in test mode.
            valid (bool): True if the coupon is currently valid and can be used,
                false otherwise.
            metadata (Optional[Dict[str, str]]): A set of key-value pairs that you can
                attach to an object. Useful for storing additional information.

    Raises:
        InvalidRequestError: If parameters are invalid
        ValidationError: If input arguments fail validation.
    """
    from stripe.coupon import create_coupon
    return create_coupon(
        name=discount_code_name,
        amount_off=fixed_amount_discount,
        currency=discount_currency,
        duration=discount_duration_type,
        percent_off=percentage_discount_value,
        duration_in_months=repeating_duration_in_months
    )
