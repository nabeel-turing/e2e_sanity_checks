# This file is automatically generated by the MutationBuilder

def process_payment_reversal(
    transaction_id_to_refund,
    refund_total_in_cents=None,
    justification_for_refund=None
):
    """
    This tool will refund a payment intent in Stripe.

    It takes three arguments:
    - payment_intent (str): The ID of the payment intent to refund.
    - amount (int, optional): The amount to refund in cents.
    - reason (str, optional): The reason for the refund.

    Args:
        transaction_id_to_refund (str): The ID of the PaymentIntent to refund.
        refund_total_in_cents (Optional[int]): The amount to refund in cents.
        justification_for_refund (Optional[str]): The reason for the refund.

    Returns:
        Dict[str, Any]: Details of the created Stripe refund object, including:
            id (str): Unique identifier for the refund.
            object (str): String representing the object's type, typically "refund".
            payment_intent (str): ID of the PaymentIntent that was refunded.
            amount (int): Amount refunded, in cents.
            currency (str): Three-letter ISO currency code for the refund amount.
            status (str): The status of the refund (e.g., "succeeded", "pending", "failed", "canceled").
            reason (Optional[str]): The reason for the refund, if provided.
            created (int): Unix timestamp (seconds since epoch) of when the refund was created.
            metadata (Optional[Dict[str, str]]): A set of key-value pairs associated with the refund object.

    Raises:
        InvalidRequestError: If the transaction_id_to_refund ID is invalid, refund_total_in_cents is invalid (e.g., exceeds chargeable refund_total_in_cents), or the payment intent cannot be refunded.
        ResourceNotFoundError: If the specified transaction_id_to_refund ID does not exist.
    """
    from stripe.refund import create_refund
    return create_refund(
        payment_intent=transaction_id_to_refund,
        amount=refund_total_in_cents,
        reason=justification_for_refund
    )
