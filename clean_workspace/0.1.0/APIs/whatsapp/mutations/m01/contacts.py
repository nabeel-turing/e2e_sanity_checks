# This file is automatically generated by the MutationBuilder

def locate_contacts(search_term):
    """
    Search WhatsApp contacts by name or phone number.

    This function searches WhatsApp contacts by name or phone number.
    It uses the provided query term to match against contact names or phone numbers.

    Args:
        search_term (str): Search term to match against contact names or phone numbers.

    Returns:
        List[Dict[str, Any]]: A list of dictionaries, where each dictionary represents a contact
        that matches the search query. Each dictionary includes the following keys:
            jid (str): The Jabber ID of the contact (e.g., "1234567890@s.whatsapp.net").
            name_in_address_book (Optional[str]): The name of the contact as saved in the user's address book, if available.
            profile_name (Optional[str]): The contact's WhatsApp profile name.
            phone_number (Optional[str]): The phone number of the contact.
            is_whatsapp_user (bool): True if the phone number is confirmed to be a WhatsApp user.

    Raises:
        InvalidQueryError: If the search search_term is invalid, too short, poorly formatted, or fails Pydantic validation.
    """
    from whatsapp.contacts import search_contacts
    return search_contacts(query=search_term)


def list_conversations_with_contact(target_contact_jid, results_per_page=20, page_index=0):
    """
    Get all WhatsApp chats involving the contact.

    This function retrieves all WhatsApp chats that involve the contact specified by their JID.
    The number of chats returned can be controlled using `limit`, and `page` allows for
    fetching subsequent sets of chats.

    Args:
        target_contact_jid (str): The contact's JID to search for.
        results_per_page (int): Maximum number of chats to return. Defaults to 20.
        page_index (int): Page number for pagination. Defaults to 0.

    Returns:
        Dict[str, Any]: A dictionary containing a list of chats involving the specified contact and pagination details. This dictionary includes the following keys:
            chats (List[Dict[str, Any]]): A list of chat objects. Each chat object contains the following fields:
                chat_jid (str): The JID (Jabber ID) of the chat.
                name (Optional[str]): The name of the chat (e.g., contact name or group subject).
                is_group (bool): True if the chat is a group chat where the contact is a participant, False otherwise.
                last_active_timestamp (Optional[str]): ISO-8601 formatted timestamp of the last activity in the chat.
                unread_count (Optional[int]): Number of unread messages in the chat for the current user.
                last_message_preview (Optional[Dict[str, Any]]): A brief preview of the last message in the chat. The specific structure of this object is detailed in the `list_chats` method response or relevant message object documentation.
            total_chats (int): The total number of chats found involving the contact, across all pages.
            page (int): The current page number (0-indexed) of the returned list of chats.
            limit (int): The maximum number of chats returned per page.

    Raises:
        ContactNotFoundError: If no contact is found with the given `target_contact_jid`.
        InvalidJIDError: If the provided `target_contact_jid` is not a valid JID format.
        InvalidParameterError: If input arguments fail validation.
        PaginationError: If the requested page_index number is out of the valid range (e.g., negative or beyond the total number of pages).
    """
    from whatsapp.contacts import get_contact_chats
    return get_contact_chats(jid=target_contact_jid, limit=results_per_page, page=page_index)
