# This file is automatically generated by the MutationBuilder

def save_new_draft_message(user_mailbox_id='me', draft_creation_details=None):
    """
    Creates a new draft message.

    Creates a new draft with the DRAFT label. The draft message content is taken from the `draft`
    argument. If no draft content is provided, an empty draft is created.

    Attachment size limits are enforced: individual attachments cannot exceed 25MB,
    and the total message size (including all attachments) cannot exceed 100MB.

    Args:
        user_mailbox_id (str): The user's email address. The special value 'me'
                can be used to indicate the authenticated user. Defaults to 'me'.
        draft_creation_details (Optional[Dict[str, Any]]): An optional dictionary containing the draft message details with keys:
            - 'id' (Optional[str]): The draft ID. Auto-generated if not provided.
            - 'message' (Dict[str, Any]): The message object with keys:
                - 'threadId' (Optional[str]): The ID of the thread this message belongs to.
                - 'raw' (Optional[str]): The entire message represented as a base64url-encoded string 
                          (RFC 4648 Section 5). The raw string must be RFC 2822 compliant and may include attachments
                          (e.g., as multipart MIME). Individual attachments are limited to 25MB each, with
                          a total message size limit of 100MB. Optional; if not provided, the message will be 
                          constructed from 'sender', 'recipient', 'subject', 'body', etc.
                - 'labelIds' (Optional[List[str]]): List of label IDs applied to this message.
                - 'snippet' (Optional[str]): A short part of the message text.
                - 'historyId' (Optional[str]): The ID of the last history record that modified this message.
                - 'internalDate' (Optional[str]): The internal message creation timestamp (epoch ms).
                - 'sizeEstimate' (Optional[int]): Estimated size in bytes of the message.
                - 'sender' (Optional[str]): The email address of the sender.
                - 'recipient' (Optional[str]): The email address of the recipient.
                - 'subject' (Optional[str]): The message subject.
                - 'body' (Optional[str]): The message body text.
                - 'isRead' (Optional[bool]): Whether the message has been read.
                - 'date' (Optional[str]): The date this message was created.
                - 'payload' (Optional[Dict[str, Any]]): The parsed email structure with keys:
                    - 'mimeType' (str): The MIME type of the message.
                    - 'parts' (List[Dict[str, Any]]): List of message parts for attachments:
                        - 'mimeType' (str): The MIME type of the part.
                        - 'filename' (Optional[str]): The filename for attachment parts.
                        - 'body' (Dict[str, Any]): The body content with keys:
                            - 'attachmentId' (str): The attachment ID reference.
                            - 'size' (int): The size of the attachment in bytes (max 25MB per attachment).
            Defaults to None, creating an empty draft.

    Returns:
        Dict[str, Any]: A dictionary representing the created draft resource with keys:
            - 'id' (str): The unique ID of the draft.
            - 'message' (Dict[str, Any]): The message object with keys:
                - 'id' (str): The message ID (same as draft ID).
                - 'threadId' (str): The thread ID.
                - 'raw' (str): The raw message content.
                - 'labelIds' (List[str]): List of label IDs, including 'DRAFT'.
                - 'snippet' (str): A short part of the message text.
                - 'historyId' (str): The history ID.
                - 'internalDate' (str): The internal date timestamp.
                - 'payload' (Dict[str, Any]): The message payload structure with keys:
                    - 'mimeType' (str): The MIME type of the message.
                    - 'parts' (List[Dict[str, Any]]): List of message parts with keys:
                        - 'mimeType' (str): The MIME type of the part.
                        - 'filename' (Optional[str]): The filename for attachment parts.
                        - 'body' (Dict[str, Any]): The body content with keys:
                            - 'data' (str): Base64 encoded content for text parts.
                            - 'attachmentId' (str): Attachment ID reference for file parts.
                            - 'size' (int): Size in bytes for attachment parts (max 25MB each).
                - 'sizeEstimate' (int): The estimated size in bytes.
                - 'sender' (str): The sender's email address.
                - 'recipient' (str): The recipient's email address.
                - 'subject' (str): The message subject.
                - 'body' (str): The message body text.
                - 'isRead' (bool): Whether the message has been read.
                - 'date' (str): The message date.

    Raises:
        TypeError: If `user_mailbox_id` is not a string.
        ValidationError: If the `draft_creation_details` argument is provided and does not conform to the
                        `DraftInputPydanticModel` structure (e.g., missing required fields
                        like 'message', or fields have incorrect types).
                        If any attachment exceeds 25MB or total message size exceeds 100MB.
        ValueError: If the specified `user_mailbox_id` does not exist in the database (this error is
                   propagated from an internal helper function `_ensure_user`).
    """
    from gmail.Users.Drafts import create
    return create(userId=user_mailbox_id, draft=draft_creation_details)


def enumerate_draft_messages(drafts_user_id='me', draft_list_limit=100, draft_filter_query=''):
    """
    Lists the drafts in the user's mailbox.

    Retrieves a list of draft messages for the specified user, optionally
    filtered by a query string. Supports basic filtering based on `from:`, `to:`,
    `subject:`, `body:`, `label:`, and general keywords in the query `q`.

    Args:
        drafts_user_id (str): The user's email address. The special value 'me'
                can be used to indicate the authenticated user. Defaults to 'me'.
        draft_list_limit (int): Maximum number of drafts to return. Must be positive.
                           Defaults to 100.
        draft_filter_query (str): Query string to filter drafts. Supports terms like `from:`, `to:`,
           `subject:`, `body:`, `label:`, and keywords. Defaults to ''.

           Examples:
               - "from:john@example.com" - Find drafts from john@example.com
               - "to:team@company.com" - Find drafts to team@company.com
               - "subject:meeting" - Find drafts with "meeting" in the subject
               - "body:project" - Find drafts containing "project" in the body
               - "label:important" - Find drafts with the "important" label
               - "from:john@example.com subject:meeting" - Combine multiple filters

    Returns:
        Dict[str, Any]: A dictionary containing:
            - 'drafts' (List[Dict[str, Any]]): List of draft resources, each with keys:
                - 'id' (str): The unique ID of the draft.
                - 'message' (Dict[str, Any]): The message object with keys:
                    - 'id' (str): The message ID.
                    - 'threadId' (str): The thread ID.
                    - 'raw' (str): The entire message represented as a base64url-encoded string 
                          (RFC 4648 Section 5). The raw string must be RFC 2822 compliant and may include attachments
                          (e.g., as multipart MIME). 
                    - 'sender' (str): The sender's email address.
                    - 'recipient' (str): The recipient's email address.
                    - 'subject' (str): The message subject.
                    - 'body' (str): The message body text.
                    - 'date' (str): The message date.
                    - 'internalDate' (str): The internal date timestamp.
                    - 'isRead' (bool): Whether the message has been read.
                    - 'labelIds' (List[str]): List of label IDs, including 'DRAFT' in uppercase.
            - 'nextPageToken' (None): Currently always None.

    Raises:
        TypeError: If `drafts_user_id` or `draft_filter_query` is not a string, or if `draft_list_limit` is not an integer.
        InvalidMaxResultsValueError: If `draft_list_limit` is not a positive integer.
        ValueError: If the specified `drafts_user_id` does not exist in the database (propagated from _ensure_user).
    """
    from gmail.Users.Drafts import list
    return list(userId=drafts_user_id, max_results=draft_list_limit, q=draft_filter_query)


def modify_existing_draft(target_draft_id, draft_user_account_id='me', draft_update_payload=None):
    """
    Replaces a draft's content.

    Updates an existing draft message identified by its ID with the content
    provided in the `draft` argument. If the draft with the specified ID
    does not exist, it returns None.
    Ensures the 'DRAFT' label is present on the updated message.

    Args:
        draft_user_account_id (str): The user's email address. The special value 'me'
                can be used to indicate the authenticated user. Defaults to 'me'.
        target_draft_id (str): The ID of the draft to update.
        draft_update_payload (Optional[Dict[str, Any]]): An optional dictionary containing the updated draft message content with keys:
            - 'message' (Dict[str, Any]): The message updates with keys:
                - 'id' (Optional[str]): The immutable ID of the message.
                - 'threadId' (Optional[str]): The ID of the thread this message belongs to.
                - 'raw' (Optional[str]): The entire message represented as a base64url-encoded string 
                          (RFC 4648 Section 5). The raw string must be RFC 2822 compliant and may include attachments
                          (e.g., as multipart MIME). Optional; if not provided, the message will be constructed from 'sender', 'recipient', 'subject', 'body', etc.
                - 'labelIds' (Optional[List[str]]): List of label IDs applied to this message. If provided,
                  replaces all existing labels except 'DRAFT' (which is always preserved). The 'INBOX' label
                  is explicitly removed if present in the input list.
                - 'snippet' (Optional[str]): A short part of the message text.
                - 'historyId' (Optional[str]): The ID of the last history record that modified this message.
                - 'internalDate' (Optional[str]): The internal message creation timestamp (epoch ms).
                - 'sizeEstimate' (Optional[int]): Estimated size in bytes of the message.
                - 'sender' (Optional[str]): The email address of the sender.
                - 'recipient' (Optional[str]): The email address of the recipient.
                - 'subject' (Optional[str]): The message subject.
                - 'body' (Optional[str]): The message body text.
                - 'isRead' (Optional[bool]): Whether the message has been read.
                - 'date' (Optional[str]): The date this message was created.
                - 'payload' (Optional[Dict[str, Any]]): The parsed email structure with keys:
                    - 'mimeType' (str): The MIME type of the message.
                    - 'parts' (List[Dict[str, Any]]): List of message parts for attachments:
                        - 'mimeType' (str): The MIME type of the part.
                        - 'filename' (Optional[str]): The filename for attachment parts.
                        - 'body' (Dict[str, Any]): The body content with keys:
                            - 'attachmentId' (str): The attachment ID reference.
                            - 'size' (int): The size of the attachment in bytes.
            Defaults to None.

    Returns:
        Optional[Dict[str, Any]]: A dictionary representing the updated draft resource if found and updated with keys:
            - 'id' (str): The unique ID of the draft.
            - 'message' (Dict[str, Any]): The message object with keys:
                - 'id' (str): The message ID.
                - 'threadId' (str): The thread ID.
                - 'raw' (str): The entire message represented as a base64url-encoded string 
                          (RFC 4648 Section 5). The raw string must be RFC 2822 compliant and may include attachments
                          (e.g., as multipart MIME). 
                - 'labelIds' (List[str]): List of label IDs, including 'DRAFT'.
                - 'snippet' (str): A short part of the message text.
                - 'historyId' (str): The history ID.
                - 'internalDate' (str): The internal date timestamp.
                - 'payload' (Dict[str, Any]): The message payload structure with keys:
                    - 'mimeType' (str): The MIME type of the message.
                    - 'parts' (List[Dict[str, Any]]): List of message parts with keys:
                        - 'mimeType' (str): The MIME type of the part.
                        - 'filename' (Optional[str]): The filename for attachment parts.
                        - 'body' (Dict[str, Any]): The body content with keys:
                            - 'data' (str): Base64 encoded content for text parts.
                            - 'attachmentId' (str): Attachment ID reference for file parts.
                            - 'size' (int): Size in bytes for attachment parts.
                - 'sizeEstimate' (int): The estimated size in bytes.
                - 'sender' (str): The sender's email address.
                - 'recipient' (str): The recipient's email address.
                - 'subject' (str): The message subject.
                - 'body' (str): The message body text.
                - 'isRead' (bool): Whether the message has been read.
                - 'date' (str): The message date.
            Returns None if the draft is not found.

    Raises:
        TypeError: If `draft_user_account_id` or `target_draft_id` is not a string.
        ValueError: If `target_draft_id` is an empty string or if the specified `draft_user_account_id` does not exist in the database.
        ValidationError: If `draft_update_payload` is provided and its structure does not conform to DraftUpdateInputModel.
    """
    from gmail.Users.Drafts import update
    return update(id=target_draft_id, userId=draft_user_account_id, draft=draft_update_payload)


def discard_draft_message(user_account_for_delete='me', draft_identifier_to_remove=''):
    """
    Immediately and permanently deletes the specified draft.

    Removes the draft message identified by the given ID from the user's
    mailbox. Also cleans up any attachments that are no longer referenced
    after the draft deletion.

    Args:
        user_account_for_delete (str): The user's email address. The special value 'me'
                can be used to indicate the authenticated user. Defaults to 'me'.
        draft_identifier_to_remove (str): The ID of the draft to delete. Defaults to ''.

    Returns:
        Optional[Dict[str, Any]]: The dictionary representing the deleted draft resource if it existed,
        with keys:
            - 'id' (str): The unique ID of the draft.
            - 'message' (Dict[str, Any]): The message object with keys:
                - 'id' (str): The message ID.
                - 'threadId' (str): The thread ID.
                - 'raw' (str): The entire message represented as a base64url-encoded string 
                          (RFC 4648 Section 5). The raw string must be RFC 2822 compliant and may include attachments
                          (e.g., as multipart MIME). 
                - 'sender' (str): The sender's email address.
                - 'recipient' (str): The recipient's email address.
                - 'subject' (str): The message subject.
                - 'body' (str): The message body text.
                - 'date' (str): The message date.
                - 'internalDate' (str): The internal date timestamp.
                - 'isRead' (bool): Whether the message has been read.
                - 'labelIds' (List[str]): List of label IDs, including 'DRAFT' in uppercase.
        Otherwise None.

    Raises:
        TypeError: If `user_account_for_delete` or `draft_identifier_to_remove` is not a string.
        ValueError: If the specified `user_account_for_delete` does not exist in the database
    """
    from gmail.Users.Drafts import delete
    return delete(userId=user_account_for_delete, id=draft_identifier_to_remove)


def retrieve_draft_message(
    draft_owner_user_id='me',
    draft_lookup_identifier='',
    retrieval_format_specifier='full'
):
    """
    Gets the specified draft.

    Retrieves the draft message identified by the given ID.
    The format parameter determines what data is returned:
    - 'minimal': Returns only email message ID and labels
    - 'full': Returns the full email message data with parsed body content
    - 'raw': Returns the full email message data with body content in raw field
    - 'metadata': Returns only email message ID, labels, and email headers

    Args:
        draft_owner_user_id (str): The user's email address. The special value 'me'
                can be used to indicate the authenticated user. Defaults to 'me'.
        draft_lookup_identifier (str): The ID of the draft to retrieve. Defaults to ''.
        retrieval_format_specifier (str): The format to return the message in. One of 'minimal',
                'full', 'raw', or 'metadata'. Defaults to 'full'.

    Returns:
        Optional[Dict[str, Any]]: A dictionary representing the draft resource if found, with keys:
            - 'id' (str): The unique ID of the draft.
            - 'message' (Dict[str, Any]): The message object with keys:
                - 'id' (str): The message ID.
                - 'threadId' (str): The thread ID.
                - 'raw' (str): The entire message represented as a base64url-encoded string 
                          (RFC 4648 Section 5). The raw string must be RFC 2822 compliant and may include attachments
                          (e.g., as multipart MIME). 
                - 'sender' (str): The sender's email address.
                - 'recipient' (str): The recipient's email address.
                - 'subject' (str): The message subject.
                - 'body' (str): The message body text.
                - 'date' (str): The message date.
                - 'internalDate' (str): The internal date timestamp.
                - 'isRead' (bool): Whether the message has been read.
                - 'labelIds' (List[str]): List of label IDs, including 'DRAFT' in uppercase.
        The content varies based on the format parameter:
            - minimal: Only id and labelIds
            - full: Complete draft with parsed body
            - raw: The entire message represented as a base64url-encoded string 
                          (RFC 4648 Section 5). The raw string must be RFC 2822 compliant and may include attachments
                          (e.g., as multipart MIME). 
            - metadata: ID, labels and headers (sender, recipient, subject, date)
        Otherwise None.

    Raises:
        TypeError: If `draft_owner_user_id`, `draft_lookup_identifier`, or `retrieval_format_specifier` are not of type string.
        InvalidFormatError: If the provided `retrieval_format_specifier` is not one of 'minimal',
                          'full', 'raw', or 'metadata'.
        ValueError: If the specified `draft_owner_user_id` does not exist in the database
    """
    from gmail.Users.Drafts import get
    return get(
        userId=draft_owner_user_id,
        id=draft_lookup_identifier,
        format=retrieval_format_specifier
    )


def dispatch_draft_message(sending_user_id='me', draft_and_message_data=None):
    """
    Sends the specified draft.

    Sends the message associated with a draft. If the `draft` argument contains
    an `id` corresponding to an existing draft, that draft is sent and then
    deleted. If no `id` is provided, or the `id` doesn't match an existing
    draft, the message content within the `draft` argument (specifically
    `draft['message']['raw']`) is sent directly using `Messages.send`.

    Attachment size limits are enforced: individual attachments cannot exceed 25MB,
    and the total message size (including all attachments) cannot exceed 100MB.

    Args:
        sending_user_id (str): The user's email address. The special value 'me'
                can be used to indicate the authenticated user. Defaults to 'me'.
        draft_and_message_data (Optional[Dict[str, Any]]): An optional dictionary containing the draft to send with keys:
            - 'id' (Optional[str]): The ID of an existing draft to send.
            - 'message' (Optional[Dict[str, Any]]): The message content to send directly with keys:
                - 'threadId' (Optional[str]): The ID of the thread this message belongs to.
                - 'raw' (Optional[str]): The entire message represented as a base64url-encoded string 
                          (RFC 4648 Section 5). The raw string must be RFC 2822 compliant and may include attachments
                          (e.g., as multipart MIME). Individual attachments are limited to 25MB each, with
                          a total message size limit of 100MB. Optional; if not provided, the message will be 
                          constructed from 'sender', 'recipient', 'subject', 'body', etc.
                - 'internalDate' (Optional[str]): The internal message creation timestamp (epoch ms).
                - 'labelIds' (Optional[List[str]]): List of label IDs applied to this message.
                - 'snippet' (Optional[str]): A short part of the message text.
                - 'historyId' (Optional[str]): The ID of the last history record that modified this message.
                - 'sizeEstimate' (Optional[int]): Estimated size in bytes of the message.
                - 'sender' (Optional[str]): The email address of the sender.
                - 'recipient' (Optional[str]): The email address of the recipient.
                - 'subject' (Optional[str]): The message subject.
                - 'body' (Optional[str]): The message body text.
                - 'isRead' (Optional[bool]): Whether the message has been read.
                - 'date' (Optional[str]): The message date.
                - 'payload' (Optional[Dict[str, Any]]): The parsed email structure with keys:
                    - 'mimeType' (str): The MIME type of the message.
                    - 'parts' (List[Dict[str, Any]]): List of message parts for attachments:
                        - 'mimeType' (str): The MIME type of the part.
                        - 'filename' (Optional[str]): The filename for attachment parts.
                        - 'body' (Dict[str, Any]): The body content with keys:
                            - 'attachmentId' (str): The attachment ID reference.
                            - 'size' (int): The size of the attachment in bytes (max 25MB per attachment).
            Defaults to None.

    Returns:
        Dict[str, Any]: A dictionary representing the sent message resource, as returned by
        `Messages.send`, with keys:
            - 'id' (str): The generated message ID.
            - 'threadId' (str): The thread ID for the message.
            - 'raw' (str): The entire message represented as a base64url-encoded string 
                          (RFC 4648 Section 5). The raw string must be RFC 2822 compliant and may include attachments
                          (e.g., as multipart MIME). 
            - 'sender' (str): The sender email address.
            - 'recipient' (str): The recipient email address.
            - 'subject' (str): The message subject.
            - 'body' (str): The message body text.
            - 'date' (str): The message date.
            - 'internalDate' (str): The internal date timestamp.
            - 'isRead' (bool): Whether the message has been read.
            - 'labelIds' (List[str]): List of label IDs, including 'SENT'.

    Raises:
        TypeError: If `sending_user_id` is not a string.
        ValidationError: If the `draft_and_message_data` argument is provided and does not conform to the
                        `DraftInputPydanticModel` structure or if inputs are not valid.
                        If any attachment exceeds 25MB or total message size exceeds 100MB.
        ValueError: If the draft_and_message_data or message is missing required fields for sending.
                   When sending an existing draft_and_message_data or new message without raw content,
                   the following fields are required: `recipient`, `subject`, and `body`.
                   If `raw` content is provided, these individual fields are not required
                   as the raw content contains all necessary message information.
    """
    from gmail.Users.Drafts import send
    return send(userId=sending_user_id, draft=draft_and_message_data)
